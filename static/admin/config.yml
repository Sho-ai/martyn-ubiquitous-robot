backend:
  name: git-gateway
  branch: feature/author-as-cms-relation

media_folder: static/img
public_folder: /img

collections:

  - name: "authors"
    label: "Authors"
    folder: "content/authors"
    create: true
    extension: json
    format: json
    editor:
      preview: false
    fields:
      - {label: "Author ID", name: "title", widget: "string"}
      - {label: "Display name", name: "displayName", widget: "string"}
      - {label: "Image", name: "image", widget: "image"}

  - name: "french_categories"
    label: "Categories in French"
    folder: "content/categories"
    filter: {field: "locale", value: "fr"}
    create: true
    extension: json
    format: json
    slug: "fr-{{slug}}"
    editor:
      preview: false
    fields:
      - {label: "Category ID", name: "title", widget: "string"}
      - {label: "Display name", name: "displayName", widget: "string"}
      - {label: "Locale", name: "locale", widget: "hidden", default: "fr"}
      - {label: "Colour (hex code)", name: "color", widget: "string"}

  - name: "english_categories"
    label: "Categories in English"
    folder: "content/categories"
    filter: {field: "locale", value: "en"}
    create: true
    extension: json
    format: json
    slug: "en-{{slug}}"
    editor:
      preview: false
    fields:
      - {label: "Category ID", name: "title", widget: "string"}
      - {label: "Display name", name: "displayName", widget: "string"}
      - {label: "Locale", name: "locale", widget: "hidden", default: "en"}
      - {label: "Colour (hex code)", name: "color", widget: "string"}

  - name: "languages"
    label: "Languages"
    folder: "data/translations"
    create: true
    extension: json
    format: json
    editor:
      preview: false
    fields:
      - {label: "Two-digit language code", name: "title", widget: "string"}
      - label: "Sidebar"
        name: "sidebar"
        widget: "object"
        fields: 
          - label: "Mailchimp boxes"
            name: "mailchimpBoxes"
            widget: "object"
            fields: 
              - {label: "Email address label", name: "emailAddressLabel", widget: "string"}
              - {label: "Email address placeholder", name: "emailAddressPlaceholder", widget: "string"}
              - {label: "Success message", name: "successMessage", widget: "string"}
              - label: "Subscribe"
                name: "subscribe"
                widget: "object"
                fields: 
                  - {label: "Heading", name: "heading", widget: "string"}
                  - {label: "Body", name: "body", widget: "string"}
                  - {label: "Button text", name: "buttonText", widget: "string"}
              - label: "Whitepaper"
                name: "whitepaper"
                widget: "object"
                fields: 
                  - {label: "Heading", name: "heading", widget: "string"}
                  - {label: "Body", name: "body", widget: "string"}
                  - {label: "Button text", name: "buttonText", widget: "string"}
          - label: "About"
            name: "about"
            widget: "object"
            fields: 
              - {label: "Heading", name: "heading", widget: "string"}
              - {label: "Body", name: "body", widget: "string"}
          - label: "Categories"
            name: "categories"
            widget: "object"
            fields: 
              - {label: "Heading", name: "heading", widget: "string"}
          - label: "Popular posts"
            name: "popularPosts"
            widget: "object"
            fields: 
              - {label: "Heading", name: "heading", widget: "string"}
          - label: "Social media"
            name: "socialMedia"
            widget: "object"
            fields: 
              - {label: "Heading", name: "heading", widget: "string"}
      - label: "Blog list"
        name: "blogList"
        widget: "object"
        fields: 
          - {label: "Read more link text", name: "readMoreLink", widget: "string"}
      - label: "Post page"
        name: "post"
        widget: "object"
        fields: 
          - {label: "Tags heading", name: "tagsHeading", widget: "string"}
          - {label: "Author heading", name: "authorHeading", widget: "string"}
          - {label: "Related articles heading", name: "relatedArticlesHeading", widget: "string"}

  - label: "Blog in French"
    name: "french_posts"
    folder: "content/posts"
    create: true
    filter: {field: "locale", value: "fr"}
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - {label: "Is published", name: "isPublished", widget: "boolean", default: "true"}
      - {label: "Language", name: "locale", widget: "hidden", default: "fr"}
      - {label: "Title", name: "title", widget: "string"}
      - {label: "Category", name: "category", widget: "relation", collection: "french_categories", searchFields: ["title", "displayName"], valueField: "title", displayFields: ["title", "displayName"], default: "uncategorised"}
      - {label: "Tags", name: "tags", widget: "list", default: ["news"], required: "false"}
      - {label: "Publish Date", name: "date", widget: "datetime"}
      - {label: "Author", name: "author", widget: "relation", collection: "authors", searchFields: ["title", "displayName"], valueField: "title", displayFields: ["displayName"]}
      - {
          label: "Alternate language links", 
          name: "alternateLangLinks", 
          widget: "list", 
          required: "false",
          fields: [
            {
              label: "Language", 
              name: "language", 
              required: "false",
              widget: "string"
            }, 
            {
              label: "Link URL", 
              name: "linkUrl", 
              required: "false",
              widget: "string"
            }
          ]
        }
      - {label: "Show on popular posts sidebar?", name: "isPopular", widget: "boolean"}
      - {label: "Image", name: "image", widget: "image"}
      - {label: "Content", name: "body", widget: "markdown"}

  - label: "Blog in English"
    name: "english_posts"
    folder: "content/posts"
    create: true
    filter: {field: "locale", value: "en"}
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - {label: "Is published", name: "isPublished", widget: "boolean", default: "true"}
      - {label: "Language", name: "locale", widget: "hidden", default: "en"}
      - {label: "Title", name: "title", widget: "string"}
      - {label: "Category", name: "category", widget: "relation", collection: "english_categories", searchFields: ["title", "displayName"], valueField: "title", displayFields: ["title", "displayName"], default: "uncategorised"}
      - {label: "Tags", name: "tags", widget: "list", default: ["news"], required: "false"}
      - {label: "Publish Date", name: "date", widget: "datetime"}
      - {label: "Author", name: "author", widget: "relation", collection: "authors", searchFields: ["title", "displayName"], valueField: "title", displayFields: ["displayName"]}
      - {
          label: "Alternate language links", 
          name: "alternateLangLinks", 
          widget: "list", 
          required: "false",
          fields: [
            {
              label: "Language", 
              name: "language", 
              required: "false",
              widget: "string"
            }, 
            {
              label: "Link URL", 
              name: "linkUrl", 
              required: "false",
              widget: "string"
            }
          ]
        }
      - {label: "Show on popular posts sidebar?", name: "isPopular", widget: "boolean"}
      - {label: "Image", name: "image", widget: "image"}
      - {label: "Content", name: "body", widget: "markdown"}

